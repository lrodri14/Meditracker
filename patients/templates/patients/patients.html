<!--Checked-->
{%extends 'base.html'%}
{%load static%}
{%block title%}Patients{%endblock%}
{%block return%}<a href="{%url 'home:home'%}"><i class="fas fa-long-arrow-alt-left"></i></a>{%endblock%}
{%block body_block%}
<link rel="stylesheet" href="{%static 'patients/css/patients.css'%}">
    <h1>Patients</h1>
    {%if patients%}
    <div class="wrapper">
        <div>
            <table>
                <thead>
                <tr id="heading">
                    <th>ID</th>
                    <th>First Name</th>
                    <th>Last Name</th>
                    <th>Birthday</th>
                    <th>Age</th>
                    <th>Phone Number</th>
                    <th>Civil Status</th>
                    <th>Origin</th>
                    <th>Residence</th>
                    {%if doctor%}<th>Edit</th>
                    <th>Delete</th>{%endif%}
                    <th><a href="{%url 'patients:add_patient'%}"><i class="fas fa-plus"></i></a></th>
                </thead>
                </tr>
                <tbody>
                <!--Included Template-->
                    {%include 'patients/patients_partial_list.html'%}
                </tbody>
            </table>

            <!--Info-->
            <div class="info">
                <div class="info-tab"><p>General</p></div><div class="info-tab"><p>Background</p></div><div class="info-tab"><p>Appointments</p></div><div class="info-tab"><p>Exams</p></div><div class="info-tab"><p>Charges</p></div><div class="quit"><p>X</p></div>
            </div>

            <!--Info Content-->
            <div class="info-content">

            </div>

            <!--Modal-->
            <div class="modal">
                <div class="modal-content">

                </div>
            </div>

            {% if patients.has_other_pages %}
            <div class="list-container">
              <ul class="pagination">
                {% if patients.has_previous %}
                  <li onclick="window.location='?page={{ patients.previous_page_number }}'">&laquo;</li>
                {% else %}
                  <li class="disabled"><span>&laquo;</span></li>
                {% endif %}
                {% for i in patients.paginator.page_range %}
                  {% if patients.number == i %}
                    <li id="active"><span>{{ i }} <span class="sr-only">(current)</span></span></li>
                  {% else %}
                    <li onclick="window.location='?page={{ i }}'">{{i}}</li>
                  {% endif %}
                {% endfor %}
                {% if patients.has_next %}
                  <li onclick="window.location='?page={{ patients.next_page_number }}'">&raquo;</li>
                {% else %}
                  <li class="disabled"><span>&raquo;</span></li>
                {% endif %}
              </ul>
            </div>
            {% endif %}
        </div>
        <div>
            <i class="fas fa-filter"></i>
            <form method="POST" action="{%url 'patients:patients'%}" autocomplete="off" class="result-filter">
                {%csrf_token%}
                <h1>Filter Results</h1>
                <p>{{form.patient.label}} Name</p>
                <p>Or</p>
                <p>ID Number</p>
                <p>{{form.patient}}</p>
            </form>
        </div>
    </div>
    {%else%}
        <p id="no_patients">There are no patients listed</p>
        <a  id="add_patients" href="{%url 'patients:add_patient'%}"><i class="fas fa-plus"></i></a>
    {%endif%}
<script src="{%static 'patients/js/patients.js'%}"></script>
{%endblock%}